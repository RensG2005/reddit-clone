{"version":3,"sources":["api/UserApi.js","GlobalState.js","components/header/Navbar.js","components/mainpages/Login.js","components/mainpages/signIn.js","components/mainpages/Subs.js","components/mainpages/Home.js","components/mainpages/Post.js","components/mainpages/rSub.js","components/mainpages/User.js","components/mainpages/PostPage.js","components/mainpages/NotFound.js","components/mainpages/index.js","App.js","reportWebVitals.js","index.js"],"names":["UserAPI","token","useState","isLogged","setIsLogged","isAdmin","setIsAdmin","user","setuser","useEffect","a","axios","get","headers","Authorization","res","data","role","alert","response","msg","getUser","GlobalState","createContext","DataProvider","children","setToken","firstLogin","localStorage","getItem","refreshtoken","refreshToken","post","accesstoken","setTimeout","err","console","log","state","UserApi","Provider","value","Navbar","useContext","searchData","setSearchData","search","target","query","className","to","xmlns","viewBox","fill","cx","cy","r","d","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","onBlur","placeholder","onChange","length","map","name","href","window","location","pathname","split","title","_id","Login","loading","setLoading","email","setEmail","password","setPassword","is","error","setError","login","e","preventDefault","setItem","onSubmit","htmlFor","required","aria-describedby","autoComplete","disabled","SignIn","password2","setPassword2","setName","signin","username","Subs","Data","setData","desc","setDesc","update","limit","createSub","description","Object","keys","piece","tabIndex","aria-labelledby","aria-hidden","data-bs-dismiss","onClick","Home","Post","timeAgo","TimeAgo","vote","setvote","dvote","setdvote","fakecount","setfakecount","upvote","way","downvote","width","height","upvotes","creator","format","Date","createdAt","text","substring","comments","RSub","posts","setPosts","ls","allPosts","ids","data2","set","createPost","sub","members","toFixed","User","clear","toString","addDefaultLocale","en","PostPage","setonPost","history","useHistory","goBack","setPost","Comment","setComment","getPost","document","getElementById","focus","useLayoutEffect","onKeyDown","key","comment","NotFound","setstate","src","alt","MainPage","onPost","exact","path","component","signIn","rSub","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dd2e596d.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction UserAPI(token) {\r\n  const [isLogged, setIsLogged] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [user, setuser] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      const getUser = async () => {\r\n        try {\r\n          const res = await axios.get(\r\n            \"https://fast-atoll-84478.herokuapp.com/user/information\",\r\n            {\r\n              headers: { Authorization: token },\r\n            }\r\n          );\r\n          res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false);\r\n\r\n          setuser(res.data);\r\n\r\n          setIsLogged(true);\r\n        } catch (err) {\r\n          alert(err.response.data.msg);\r\n        }\r\n      };\r\n      getUser();\r\n    }\r\n  }, [token]);\r\n\r\n  return {\r\n    isLogged: [isLogged, setIsLogged],\r\n    isAdmin: [isAdmin, setIsAdmin],\r\n    user: [user, setuser],\r\n  };\r\n}\r\n\r\nexport default UserAPI;\r\n","import React, { createContext, useState, useEffect } from \"react\";\r\nimport UserApi from \"./api/UserApi\";\r\nimport axios from \"axios\";\r\n\r\nexport const GlobalState = createContext();\r\n\r\nexport const DataProvider = ({ children }) => {\r\n  const [token, setToken] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const firstLogin = localStorage.getItem(\"firstLogin\");\r\n    const refreshtoken = localStorage.getItem(\"refreshtoken\");\r\n\r\n    if (firstLogin) {\r\n      try {\r\n        const refreshToken = async () => {\r\n          const res = await axios.post(\r\n            \"https://fast-atoll-84478.herokuapp.com/user/refresh_token\",\r\n            { refreshtoken: refreshtoken }\r\n          );\r\n\r\n          setToken(res.data.accesstoken);\r\n\r\n          setTimeout(() => {\r\n            refreshToken();\r\n          }, 10 * 60 * 1000);\r\n        };\r\n        refreshToken();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const state = {\r\n    token: [token, setToken],\r\n    UserApi: UserApi(token),\r\n  };\r\n\r\n  return <GlobalState.Provider value={state}>{children}</GlobalState.Provider>;\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport axios from \"axios\";\r\n\r\nfunction Navbar() {\r\n  let state = useContext(GlobalState);\r\n  const [isLogged] = state.UserApi.isLogged;\r\n\r\n  const [searchData, setSearchData] = useState([]);\r\n\r\n  const search = async (target) => {\r\n    if (target) {\r\n      try {\r\n        const data = await axios.post(\r\n          `https://fast-atoll-84478.herokuapp.com/r/search`,\r\n          {\r\n            query: target.value,\r\n          }\r\n        );\r\n        setSearchData(data.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar sticky-top navbar-expand-lg navbar-light bg-darkdarkdark\">\r\n        <div className=\"container-fluid\">\r\n          <Link className=\"navbar-brand text-white\" to=\"/\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 20 20\"\r\n              className=\"mx-4 reddit_logo\"\r\n            >\r\n              <g>\r\n                <circle fill=\"#FF4500\" cx=\"10\" cy=\"10\" r=\"10\"></circle>\r\n                <path\r\n                  fill=\"#FFF\"\r\n                  d=\"M16.67,10A1.46,1.46,0,0,0,14.2,9a7.12,7.12,0,0,0-3.85-1.23L11,4.65,13.14,5.1a1,1,0,1,0,.13-0.61L10.82,4a0.31,0.31,0,0,0-.37.24L9.71,7.71a7.14,7.14,0,0,0-3.9,1.23A1.46,1.46,0,1,0,4.2,11.33a2.87,2.87,0,0,0,0,.44c0,2.24,2.61,4.06,5.83,4.06s5.83-1.82,5.83-4.06a2.87,2.87,0,0,0,0-.44A1.46,1.46,0,0,0,16.67,10Zm-10,1a1,1,0,1,1,1,1A1,1,0,0,1,6.67,11Zm5.81,2.75a3.84,3.84,0,0,1-2.47.77,3.84,3.84,0,0,1-2.47-.77,0.27,0.27,0,0,1,.38-0.38A3.27,3.27,0,0,0,10,14a3.28,3.28,0,0,0,2.09-.61A0.27,0.27,0,1,1,12.48,13.79Zm-0.18-1.71a1,1,0,1,1,1-1A1,1,0,0,1,12.29,12.08Z\"\r\n                ></path>\r\n              </g>\r\n            </svg>\r\n            Reddit\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div\r\n            className=\"collapse navbar-collapse justify-content-between\"\r\n            id=\"navbarSupportedContent\"\r\n          >\r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"ms-4 nav-item d-flex align-items-center\">\r\n                <Link className=\"nav-link p-0 text-white\" to=\"/subreddits\">\r\n                  Subreddits\r\n                </Link>\r\n              </li>\r\n              {isLogged ? (\r\n                <li className=\"nav-item ms-4\">\r\n                  <Link className=\"nav-link text-white\" to=\"/account\">\r\n                    Account\r\n                  </Link>\r\n                </li>\r\n              ) : (\r\n                <li className=\"nav-item d-flex ms-4\">\r\n                  <Link className=\"nav-link text-white\" to=\"/login\">\r\n                    Login\r\n                  </Link>\r\n                  <Link\r\n                    className=\"nav-link text-white btn btn-primary text-white ms-4 px-3\"\r\n                    to=\"/sign-up\"\r\n                  >\r\n                    Register\r\n                  </Link>\r\n                </li>\r\n              )}\r\n            </ul>\r\n            <form className=\"d-flex justify-content-end\">\r\n              <input\r\n                className=\"form-control me-2 bg-darkdarkdark border-0 input-text-white\"\r\n                onBlur={() =>\r\n                  setTimeout(() => {\r\n                    setSearchData([]);\r\n                  }, 900)\r\n                }\r\n                type=\"search\"\r\n                placeholder=\"Search\"\r\n                aria-label=\"Search\"\r\n                onChange={({ target }) => search(target)}\r\n              />\r\n            </form>\r\n            {searchData.length > 0 ? (\r\n              <ul className=\"list-group list-group-flush search-content\">\r\n                {searchData.map((name) => {\r\n                  return (\r\n                    <li key={name._id} className=\"list-group-item\">\r\n                      <a\r\n                        className=\"link\"\r\n                        href={\r\n                          window.location.pathname.split(\"/\")[1] !== \"r\"\r\n                            ? \"r/\" + name.title\r\n                            : name.title\r\n                        }\r\n                      >\r\n                        {name.title}\r\n                      </a>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction Login() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState({\r\n    is: false,\r\n    msg: \"\",\r\n  });\r\n\r\n  const login = async (e) => {\r\n    setLoading(true);\r\n    try {\r\n      e.preventDefault();\r\n      const data = await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/user/login\",\r\n        {\r\n          email,\r\n          password\r\n        }\r\n      );\r\n\r\n      setEmail(\"\")\r\n      setPassword(\"\")\r\n\r\n      localStorage.setItem(\"firstLogin\", true);\r\n      localStorage.setItem(\"refreshtoken\", data.data.refreshtoken);\r\n      \r\n      window.location.href = \"/account\";\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err.response) {\r\n        setError({ is: true, msg: err.response.data.msg });\r\n      } else {\r\n        setError({\r\n          is: true,\r\n          msg: \"Something went wrong when logging in. Please try again.\",\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        setError({});\r\n      }, 3000);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={login}>\r\n        {error.is ? (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            {error.msg}\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            required\r\n            value={email}\r\n            name=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"email\"\r\n            aria-describedby=\"emailHelp\"\r\n            autoComplete=\"new-password\"\r\n          />\r\n          <div id=\"emailHelp\" className=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <input\r\n            required\r\n            value={password}\r\n            name=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"password\"\r\n            autoComplete=\"new-password\"\r\n          />\r\n          <div id=\"passwordHelpBlock\" className=\"form-text\">\r\n            Your password must be 6 characters long, contain letters and\r\n            numbers, and must not contain spaces, special characters, or emoji.\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className={loading ? \"btn btn-primary disabled\" : \"btn btn-primary\"}\r\n          disabled={loading}\r\n        >\r\n          {loading ? \"Logging in\" : \"Log In\"}\r\n        </button>\r\n      </form>\r\n\r\n      <p>\r\n        Don't have an account? <Link to=\"/sign-up\">Sign-up</Link>\r\n      </p>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction SignIn() {\r\n  const [error, setError] = useState({ is: false, msg: \"\" });\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [password2, setPassword2] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n\r\n  const signin = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n\r\n      const data = await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/user/sign-up\",\r\n        {\r\n          email,\r\n          password,\r\n          username: name,\r\n          password2,\r\n        }\r\n      );\r\n\r\n      localStorage.setItem(\"firstLogin\", true);\r\n      localStorage.setItem(\"refreshtoken\", data.data.refreshtoken);\r\n\r\n      window.location.href = \"/\";\r\n    } catch (err) {\r\n      if (err.response) {\r\n        setError({ is: true, msg: err.response.data.msg });\r\n      } else {\r\n        setError({\r\n          is: true,\r\n          msg: \"Something went wrong when logging in. Please try again.\",\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        setError({});\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {error.is ? (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error.msg}\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <form onSubmit={signin}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            onChange={({ target }) => setEmail(target.value)}\r\n          />\r\n          <div id=\"emailHelp\" className=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Display Name\r\n          </label>\r\n          <input\r\n            type=\"username\"\r\n            className=\"form-control\"\r\n            id=\"InputUsername\"\r\n            aria-describedby=\"nameHelp\"\r\n            onChange={({ target }) => setName(target.value)}\r\n          />\r\n          <div id=\"nameHelp\" className=\"form-text\">\r\n            We'll use this name to reference you on our site\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword1\"\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n          <div id=\"passwordHelpBlock\" className=\"form-text\">\r\n            Your password must be 6 characters long, contain letters and\r\n            numbers, and must not contain spaces, special characters, or emoji.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"InputPassword2\" className=\"form-label\">\r\n            Validate Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"InputPassword2\"\r\n            onChange={({ target }) => setPassword2(target.value)}\r\n          />\r\n          <div id=\"nameHelp\" className=\"form-text\">\r\n            Type your password again\r\n          </div>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n\r\n      <p className=\"mt-3\">\r\n        Already have an account? <Link to=\"/login\">Login</Link>\r\n      </p>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Subs() {\r\n  const [Data, setData] = useState({});\r\n  const [name, setName] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [error, setError] = useState({\r\n    is: false,\r\n    msg: \"\",\r\n  });\r\n\r\n  let state = useContext(GlobalState);\r\n  const [isLogged] = state.UserApi.isLogged;\r\n\r\n  const update = async () => {\r\n    try {\r\n      const data = await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/r/search\",\r\n        {\r\n          query: \"\",\r\n          limit: 200,\r\n        }\r\n      );\r\n      setData(data.data);\r\n    } catch (err) {\r\n      if (err.response) {\r\n        setError({ is: true, msg: err.response.data.msg });\r\n      } else {\r\n        setError({\r\n          is: true,\r\n          msg:\r\n            \"Something went wrong while fetching the data. Please try again.\",\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        setError({});\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    update();\r\n  }, []);\r\n\r\n  const createSub = async () => {\r\n    console.log(name, desc, state.token[0])\r\n    try {\r\n      const data = await axios.post( \"https://fast-atoll-84478.herokuapp.com/r/create\",\r\n        {\r\n          title: name,\r\n          description: desc,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: state.state.token[0],\r\n          },\r\n        }\r\n      );\r\n      console.log(data);\r\n      update();\r\n    } catch (err) {\r\n      if (err.response) {\r\n        setError({ is: true, msg: err.response.data.msg });\r\n      } else {\r\n        setError({\r\n          is: true,\r\n          msg:\r\n            \"Something went wrong when creating a new sub. Please try again.\",\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        setError({});\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {error.is ? (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error.msg}\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-primary px-5 mb-3\"\r\n        data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#exampleModal\"\r\n      >\r\n        Create Sub\r\n      </button>\r\n\r\n      <div className=\"card bg-light-card p-2 ps-4\">All Comunities</div>\r\n      {Object.keys(Data).length !== 0 ? (\r\n        <div className=\"d-flex flex-column list-group list-group-flush\">\r\n          {Data.map((piece) => {\r\n            return (\r\n              <Link\r\n                key={piece._id}\r\n                className=\"list-group-item bg-dark-post text-white border-bottom-link fs-4\"\r\n                id={piece.id}\r\n                to={isLogged ? \"/r/\" + piece.title : \"/login\"}\r\n              >\r\n                r/{piece.title}\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : (\r\n        <div>No subs yet. Create one!</div>\r\n      )}\r\n\r\n      <div\r\n        className=\"modal modal-fullscreen fade\"\r\n        id=\"exampleModal\"\r\n        tabIndex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title text-black\" id=\"exampleModalLabel\">\r\n                Create Subreddit\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              ></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <form>\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"exampleInputEmail1\"\r\n                    className=\"form-label text-black\"\r\n                  >\r\n                    Subreddit Name\r\n                  </label>\r\n                  <input\r\n                    value={name}\r\n                    onChange={(e) => {\r\n                      setName(e.target.value);\r\n                    }}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"exampleInputEmail1\"\r\n                    aria-describedby=\"emailHelp\"\r\n                  />\r\n                  <div id=\"emailHelp\" className=\"form-text\">\r\n                    This is the name your subreddit wil get and will get found\r\n                    by.\r\n                  </div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label\r\n                    htmlFor=\"exampleInputPassword1\"\r\n                    className=\"form-label text-black\"\r\n                  >\r\n                    description\r\n                  </label>\r\n                  <textarea\r\n                    value={desc}\r\n                    onChange={(e) => {\r\n                      setDesc(e.target.value);\r\n                    }}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"exampleInputPassword1\"\r\n                  ></textarea>\r\n                  <div id=\"emailHelp\" className=\"form-text\">\r\n                    Max 400 characters.\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Close\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  createSub();\r\n                }}\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Save changes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subs;\r\n","import React from 'react'\r\n\r\nfunction Home() {\r\n    return (\r\n        <div>\r\n            Welcom to my reddit clone\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport axios from \"axios\";\r\nimport TimeAgo from 'javascript-time-ago'\r\n\r\nfunction Post({ post, id }) {\r\n  const timeAgo = new TimeAgo('en-US')\r\n  const state = useContext(GlobalState);\r\n  const [vote, setvote] = useState(false);\r\n  const [dvote, setdvote] = useState(false);\r\n  let [fakecount, setfakecount] = useState(0);\r\n\r\n  const upvote = async () => {\r\n    if (dvote) {\r\n      setdvote(false);\r\n      setfakecount(0);\r\n    }\r\n    if (vote) {\r\n      setvote(false);\r\n      setfakecount(0);\r\n    } else {\r\n      setvote(true);\r\n      setfakecount(1);\r\n    }\r\n    try {\r\n      await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/post/vote\",\r\n        {\r\n          way: \"up\",\r\n          id: post._id,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: state.token[0],\r\n          },\r\n        }\r\n      );\r\n    } catch (err) {}\r\n  };\r\n\r\n  const downvote = async () => {\r\n    if (vote) {\r\n      setvote(false);\r\n      setfakecount(0);\r\n    }\r\n    if (dvote) {\r\n      setdvote(false);\r\n      setfakecount(0);\r\n    } else {\r\n      setdvote(!dvote);\r\n      setfakecount(-1);\r\n    }\r\n    try {\r\n      await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/post/vote\",\r\n        {\r\n          way: \"down\",\r\n          id: post._id,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: state.token[0],\r\n          },\r\n        }\r\n      );\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mt-4 bg-dark-post width-69\" key={post._id}>\r\n      <div className=\"card-body d-flex p-0\">\r\n        <div className=\"p-3 bg-dark-post-vote text-center d-flex flex-column justify-content-center\">\r\n          <div>\r\n            {vote ? (\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"green\"\r\n                className=\"bi bi-hand-thumbs-up-fill pointer\"\r\n                viewBox=\"0 0 16 16\"\r\n                onClick={upvote}\r\n              >\r\n                <path d=\"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z\" />\r\n              </svg>\r\n            ) : (\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"green\"\r\n                className=\"bi bi-hand-thumbs-up text-success pointer\"\r\n                viewBox=\"0 0 16 16\"\r\n                onClick={upvote}\r\n              >\r\n                <path d=\"M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z\" />\r\n              </svg>\r\n            )}\r\n            <h4 className=\"mt-2\">{post.upvotes + fakecount}</h4>\r\n            {dvote ? (\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"red\"\r\n                className=\"bi bi-hand-thumbs-down-fill pointer\"\r\n                viewBox=\"0 0 16 16\"\r\n                onClick={downvote}\r\n              >\r\n                <path d=\"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z\" />\r\n              </svg>\r\n            ) : (\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"red\"\r\n                className=\"bi bi-hand-thumbs-down text-danger pointer\"\r\n                viewBox=\"0 0 16 16\"\r\n                onClick={downvote}\r\n              >\r\n                <path d=\"M8.864 15.674c-.956.24-1.843-.484-1.908-1.42-.072-1.05-.23-2.015-.428-2.59-.125-.36-.479-1.012-1.04-1.638-.557-.624-1.282-1.179-2.131-1.41C2.685 8.432 2 7.85 2 7V3c0-.845.682-1.464 1.448-1.546 1.07-.113 1.564-.415 2.068-.723l.048-.029c.272-.166.578-.349.97-.484C6.931.08 7.395 0 8 0h3.5c.937 0 1.599.478 1.934 1.064.164.287.254.607.254.913 0 .152-.023.312-.077.464.201.262.38.577.488.9.11.33.172.762.004 1.15.069.13.12.268.159.403.077.27.113.567.113.856 0 .289-.036.586-.113.856-.035.12-.08.244-.138.363.394.571.418 1.2.234 1.733-.206.592-.682 1.1-1.2 1.272-.847.283-1.803.276-2.516.211a9.877 9.877 0 0 1-.443-.05 9.364 9.364 0 0 1-.062 4.51c-.138.508-.55.848-1.012.964l-.261.065zM11.5 1H8c-.51 0-.863.068-1.14.163-.281.097-.506.229-.776.393l-.04.025c-.555.338-1.198.73-2.49.868-.333.035-.554.29-.554.55V7c0 .255.226.543.62.65 1.095.3 1.977.997 2.614 1.709.635.71 1.064 1.475 1.238 1.977.243.7.407 1.768.482 2.85.025.362.36.595.667.518l.262-.065c.16-.04.258-.144.288-.255a8.34 8.34 0 0 0-.145-4.726.5.5 0 0 1 .595-.643h.003l.014.004.058.013a8.912 8.912 0 0 0 1.036.157c.663.06 1.457.054 2.11-.163.175-.059.45-.301.57-.651.107-.308.087-.67-.266-1.021L12.793 7l.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315l-.353-.354.353-.354c.047-.047.109-.176.005-.488a2.224 2.224 0 0 0-.505-.804l-.353-.354.353-.354c.006-.005.041-.05.041-.17a.866.866 0 0 0-.121-.415C12.4 1.272 12.063 1 11.5 1z\" />\r\n              </svg>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <Link\r\n          to={\"/post/\" + post._id}\r\n          className=\"text-white text-decoration-none py-3 mx-4 w-100\"\r\n        >\r\n          <div className=\"pointer\">\r\n            <div className=\"d-flex justify-content-between\">\r\n              <p className=\"card-text\">\r\n                r/\r\n                {\r\n                  window.location.href.split(\"/\")[\r\n                    window.location.href.split(\"/\").length - 1\r\n                  ]\r\n                }\r\n                &nbsp;&nbsp;&nbsp;â€¢&nbsp;&nbsp;&nbsp;Posted by: u/\r\n                {post.creator}{\" \"}\r\n              </p>\r\n              <p className=\"fw-lighter\">\r\n                {timeAgo.format(new Date(post.createdAt))}\r\n              </p>\r\n            </div>\r\n\r\n            <h2 className=\"card-title\">{post.title}</h2>\r\n            <p className=\"card-text\">\r\n              {post.text.substring(0, 399)}\r\n              {post.text.length > 399 ? \"...\" : \"\"}\r\n            </p>\r\n            <p className=\"link-primary\">{post.comments.length} Comments</p>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React, { useState, useContext, useEffect, memo } from \"react\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport axios from \"axios\";\r\nimport Post from \"./Post\";\r\nimport ls from 'localstorage-ttl'\r\n\r\n\r\nfunction RSub() {\r\n  const state = useContext(GlobalState);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const [posts, setPosts] = useState([]);\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [error, setError] = useState({\r\n    is: false,\r\n    msg: \"\",\r\n  });\r\n\r\n  const update = async () => {\r\n    if(ls.get(\"posts\") !== null && ls.get(\"sub\") !== null) {\r\n      setPosts(ls.get(\"posts\"))\r\n      setData(ls.get(\"sub\"))\r\n    } else {\r\n    try {\r\n      const data = await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/r/search\",\r\n        {\r\n          query: window.location.href.split(\"/\")[\r\n            window.location.href.split(\"/\").length - 1\r\n          ],\r\n          limit: 1,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: state.token[0],\r\n          },\r\n        }\r\n      );\r\n\r\n      setData(data.data[0]);\r\n\r\n      if (data.data.length > 0) {\r\n        const allPosts = data.data[0].posts;\r\n        const data2 = await axios.post(\r\n          \"https://fast-atoll-84478.herokuapp.com/post/getbyid\",\r\n          {\r\n            ids: allPosts,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: state.token[0],\r\n            },\r\n          }\r\n        );\r\n        setPosts(data2.data);\r\n        console.log(data.data[0], data2.data)\r\n        ls.set(\"posts\", data2.data, [3600000])\r\n        ls.set(\"sub\", data.data[0], [3600000])\r\n      } else {\r\n        setPosts([]);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err.response) {\r\n        setError({ is: true, msg: err.response.data.msg });\r\n      } else {\r\n        setError({\r\n          is: true,\r\n          msg:\r\n            \"Something went wrong while fetching the data. Please try again.\",\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        setError({});\r\n      }, 3000);\r\n    }\r\n  }\r\n  };\r\n\r\n  useEffect(() => {\r\n    update();\r\n  }, []);\r\n\r\n  const createPost = async () => {\r\n    try {\r\n      await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/post/create\",\r\n        {\r\n          title: name,\r\n          text: desc,\r\n          creator: state.UserApi.user[0].username,\r\n          sub: window.location.href.split(\"/\")[\r\n            window.location.href.split(\"/\").length - 1\r\n          ],\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: state.token[0],\r\n          },\r\n        }\r\n      );\r\n\r\n      update();\r\n    } catch (err) {\r\n      if (err) {\r\n        console.log(err);\r\n        setError({ is: true, msg: err.response.data.msg });\r\n      } else {\r\n        setError({\r\n          is: true,\r\n          msg:\r\n            \"Something went wrong while fetching the data. Please try again.\",\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        setError({});\r\n      }, 3000);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      {error.is ? (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {error.msg}\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <div className=\"d-flex w-100 justify-content-between\">\r\n        <div>\r\n          {posts.length > 0 ? (\r\n            posts.map((post) => {\r\n              return <Post post={post} key={post._id} />;\r\n            })\r\n          ) : (\r\n            <div className=\"mt-3\">\r\n\r\n                <div className=\"spinner-box\">\r\n                <div className=\"blue-orbit leo\">\r\n                </div>\r\n\r\n                <div className=\"green-orbit leo\">\r\n                </div>\r\n                \r\n                <div className=\"red-orbit leo\">\r\n                </div>\r\n                \r\n                <div className=\"white-orbit w1 leo\">\r\n                </div><div className=\"white-orbit w2 leo\">\r\n                </div><div className=\"white-orbit w3 leo\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          )}\r\n        </div>\r\n\r\n        {data ? (\r\n          <div className=\"card4 card mt-4 bg-dark-post\">\r\n            <div className=\"card-body\">\r\n              <div className=\"w-100\">\r\n                <p>About Community:</p>\r\n                <h1 className=\"card-title pb-3\">r/{data.title}</h1>\r\n                <p className=\"card-text pt-6\">{data.description}</p>\r\n                <div className=\"card bg-light-card text-white px-4 pt-3 pb-2\">\r\n                  <p className=\"card-text fs-5\">{data.members}</p>\r\n                  <p>Members</p>\r\n                  <p className=\"card-text fs-5\">\r\n                    {(data.members / 4).toFixed(0)}\r\n                  </p>\r\n                  <p>Online</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              data-bs-toggle=\"modal\"\r\n              data-bs-target=\"#exampleModal\"\r\n            >\r\n              Create Post\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          \"No description found\"\r\n        )}\r\n\r\n        <div\r\n          className=\"modal modal-fullscreen fade\"\r\n          id=\"exampleModal\"\r\n          tabIndex=\"-1\"\r\n          aria-labelledby=\"exampleModalLabel\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content bg-dark\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                  Create Post\r\n                </h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-close btn-close-white\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                ></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <form>\r\n                  <div className=\"mb-3\">\r\n                    <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n                      Post Title\r\n                    </label>\r\n                    <input\r\n                      value={name}\r\n                      onChange={(e) => {\r\n                        setName(e.target.value);\r\n                      }}\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"exampleInputEmail1\"\r\n                      aria-describedby=\"emailHelp\"\r\n                    />\r\n                    <div id=\"emailHelp\" className=\"form-text\">\r\n                      This is the name your Post wil get and will get found by.\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label\r\n                      htmlFor=\"exampleInputPassword1\"\r\n                      className=\"form-label\"\r\n                    >\r\n                      description\r\n                    </label>\r\n                    <textarea\r\n                      value={desc}\r\n                      onChange={(e) => {\r\n                        setDesc(e.target.value);\r\n                      }}\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"exampleInputPassword1\"\r\n                    ></textarea>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  data-bs-dismiss=\"modal\"\r\n                >\r\n                  Close\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    createPost();\r\n                  }}\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  data-bs-dismiss=\"modal\"\r\n                >\r\n                  Save changes\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RSub;\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\n\r\nfunction User() {\r\n  let state = useContext(GlobalState);\r\n  const user = state.UserApi.user[0];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-between\">\r\n        <h1>Hello {user.username}</h1>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary\"\r\n          onClick={() => {\r\n            localStorage.clear();\r\n            window.location.href = \"/\";\r\n          }}\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n      <ul className=\"list-group list-group-flush my-4\">\r\n        <li className=\"bg-dark-post text-white border-bottom-link fs-5 list-group-item text-uppercase\">\r\n          Account created:{\"  \"}\r\n          <span className=\"fs-6 text-lowercase\">\r\n            {new Date(user.createdAt).toString().substring(0, 31)}\r\n          </span>\r\n        </li>\r\n        <li className=\"bg-dark-post text-white border-bottom-link fs-5 list-group-item text-uppercase\">\r\n          Email:{\"  \"}\r\n          <span className=\"fs-6 text-lowercase\">{user.email}</span>\r\n        </li>\r\n        <li className=\"bg-dark-post text-white border-bottom-link fs-5 list-group-item text-uppercase\">\r\n          Admin:{\"  \"}\r\n          <span className=\"fs-6 text-lowercase\">\r\n            {user.role ? \"Yes\" : \"No\"}\r\n          </span>\r\n        </li>\r\n        <li className=\"bg-dark-post text-white border-bottom-link fs-5 list-group-item text-uppercase\">\r\n          ID:{\"  \"}\r\n          <span className=\"fs-6 text-lowercase\">{user._id}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React, { useState, useEffect, useContext, useLayoutEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport TimeAgo from 'javascript-time-ago'\r\nimport en from 'javascript-time-ago/locale/en'\r\nTimeAgo.addDefaultLocale(en)\r\n\r\nfunction PostPage({ setonPost }) {\r\n  const timeAgo = new TimeAgo('en-US')\r\n  const history = useHistory();\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n  const state = useContext(GlobalState);\r\n\r\n  const [post, setPost] = useState({});\r\n  const [Comment, setComment] = useState(\"\");\r\n\r\n  let id = window.location.href.split(\"/\")[\r\n    window.location.href.split(\"/\").length - 1\r\n  ];\r\n\r\n  async function comment() {\r\n    const data2 = await axios.post(\r\n      \"https://fast-atoll-84478.herokuapp.com/post/comment\",\r\n      {\r\n        id: id,\r\n        text: Comment,\r\n        creator: state.UserApi.user[0].username,\r\n        createdAt: new Date(),\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: state.token[0],\r\n        },\r\n      }\r\n    );\r\n\r\n    console.log(data2.data);\r\n  }\r\n\r\n  async function getPost() {\r\n    try {\r\n      const data2 = await axios.post(\r\n        \"https://fast-atoll-84478.herokuapp.com/post/getbyid\",\r\n        {\r\n          ids: [id],\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: state.token[0],\r\n          },\r\n        }\r\n      );\r\n      setPost(data2.data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Escape\") {\r\n      goBack();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setonPost(true);\r\n    getPost();\r\n    document.getElementById(\"focus\").focus();\r\n\r\n    return setonPost(false);\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    return () => {\r\n      setonPost(false);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div onKeyDown={handleKeyPress} tabIndex=\"0\" id=\"focus\">\r\n      {Object.keys(post).length > 0 ? (\r\n        <div className=\"row\">\r\n          <div className=\"pointer link-bg col-sm\" onClick={goBack}></div>\r\n\r\n          <div className=\"py-4 w-75 card text-white bg-dark-post\">\r\n            <div className=\"d-flex justify-content-between\">\r\n              <p>u/{post.creator}</p>\r\n              <p>{timeAgo.format(new Date(post.createdAt))}</p>\r\n            </div>\r\n            <h2 className=\"pt-2 pb-1 border-post\">{post.title}</h2>\r\n            <p className=\"fs-6\">{post.text}</p>\r\n\r\n            <div className=\"mb-3 border-post pt-3\">\r\n              <textarea\r\n                className=\"mb-2 bg-darkdarkdark border-comment text-white width-100 p-2 form-control d-block\"\r\n                aria-label=\"Default\"\r\n                aria-describedby=\"inputGroup-sizing-default\"\r\n                placeholder=\"What are your thoughts?\"\r\n                type=\"text\"\r\n                onChange={({ target }) => setComment(target.value)}\r\n               ></textarea>\r\n              <div className=\"input-group-prepend\">\r\n                <button\r\n                  className=\"input-group-text\"\r\n                  id=\"inputGroup-sizing-default\"\r\n                  type=\"button\"\r\n                  onClick={() => comment()}\r\n                >\r\n                  Comment as {post.creator}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            {post.comments.length > 0 ? (\r\n              post.comments.map((post) => {\r\n                return (\r\n                  <div\r\n                    key={post.createdAt}\r\n                    className=\"my-1 border border-white p-3\"\r\n                  >\r\n                    <div className=\"d-flex justify-content-between\">\r\n                      <p>\r\n                        {new Date(post.createdAt).toString().substring(0, 31)}\r\n                      </p>\r\n                      <p>u/{post.creator}</p>\r\n                    </div>\r\n                    <p>{post.text}</p>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <div>No comments yet!</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"pointer link-bg col-sm\" onClick={goBack}></div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n           <div className=\"spinner-box\">\r\n                <div className=\"blue-orbit leo\">\r\n                </div>\r\n\r\n                <div className=\"green-orbit leo\">\r\n                </div>\r\n                \r\n                <div className=\"red-orbit leo\">\r\n                </div>\r\n                \r\n                <div className=\"white-orbit w1 leo\">\r\n                </div><div className=\"white-orbit w2 leo\">\r\n                </div><div className=\"white-orbit w3 leo\">\r\n                </div>\r\n              </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostPage;\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nfunction NotFound() {\r\n    const [state, setstate] = useState(<div className=\"spinner-box\">\r\n    <div className=\"blue-orbit leo\">\r\n    </div>\r\n\r\n    <div className=\"green-orbit leo\">\r\n    </div>\r\n    \r\n    <div className=\"red-orbit leo\">\r\n    </div>\r\n    \r\n    <div className=\"white-orbit w1 leo\">\r\n    </div><div className=\"white-orbit w2 leo\">\r\n    </div><div className=\"white-orbit w3 leo\">\r\n    </div>\r\n  </div>)\r\n\r\nuseEffect(() => {\r\n    setTimeout(() => {\r\n        setstate(<div>\r\n            <h1>404 Page was not found</h1>\r\n            <img src=\"https://www.redditstatic.com/reddit404c.png\" alt=\"404 page\"/>\r\n        </div>)\r\n    }, 2000);\r\n    \r\n    return () => {\r\n        setstate(\"\")\r\n    }\r\n}, [])\r\n\r\n    return (\r\n        <div>\r\n            {state}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React, { useContext, useState } from \"react\";\r\nimport Login from \"./Login\";\r\nimport signIn from \"./signIn\";\r\nimport Subs from \"./Subs\";\r\nimport Home from \"./Home\";\r\nimport rSub from \"./rSub\";\r\nimport User from \"./User\";\r\nimport PostPage from \"./PostPage\";\r\nimport NotFound from \"./NotFound\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\n\r\nfunction MainPage() {\r\n  let state = useContext(GlobalState);\r\n  const [isLogged] = state.UserApi.isLogged;\r\n\r\n  const [onPost, setonPost] = useState(false);\r\n\r\n  return (\r\n    <div className=\"bg-darkdark min-height-100\">\r\n      <div className={onPost ? \"pt-4\" : \"container pt-4\"}>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/sign-up\" component={signIn} />\r\n          <Route path=\"/subreddits\" component={Subs} />\r\n          <Route path=\"/r/:sub\" component={isLogged ? rSub : NotFound} />\r\n          <Route path=\"/account\" component={isLogged ? User : NotFound} />\r\n          <Route\r\n            path=\"/post/:id\"\r\n            component={\r\n              isLogged ? () => <PostPage setonPost={setonPost} /> : NotFound\r\n            }\r\n          />\r\n          <Route path=\"/\" component={NotFound} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import Navbar from './components/header/Navbar'\nimport {DataProvider} from './GlobalState'\nimport {BrowserRouter} from \"react-router-dom\"\n\n\nimport MainPage from './components/mainpages/index'\n\nfunction App() {\n  return (\n  <DataProvider>\n    <BrowserRouter>\n          <Navbar />\n          <MainPage />\n        </BrowserRouter>\n    </DataProvider>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}